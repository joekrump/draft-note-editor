{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 99ec7e783fbd928632ca","webpack:///./src/index.js","webpack:///external \"react\"","webpack:///./src/components/ToolbarIcon.js","webpack:///external \"draft-js\"","webpack:///./src/components/ImageComponent.js","webpack:///./src/components/InlineToolbar.js","webpack:///./src/containers/SideToolbar.js","webpack:///./src/utils/selection.js","webpack:///external \"classnames\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"draft-js\"), require(\"classnames\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"RichEditor\", [\"react\", \"draft-js\", \"classnames\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RichEditor\"] = factory(require(\"react\"), require(\"draft-js\"), require(\"classnames\"));\n\telse\n\t\troot[\"RichEditor\"] = factory(root[\"react\"], root[\"draft-js\"], root[\"classnames\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 99ec7e783fbd928632ca\n **/","import React, { Component, PropTypes } from 'react';\r\nimport {\r\n  Editor,\r\n  EditorState,\r\n  Entity,\r\n  RichUtils,\r\n  ContentState,\r\n  CompositeDecorator,\r\n  AtomicBlockUtils\r\n} from 'draft-js';\r\nimport {\r\n  getSelectionRange,\r\n  getSelectedBlockElement,\r\n  getSelectionCoords\r\n} from './utils/selection';\r\nimport SideToolbar from './containers/SideToolbar';\r\nimport InlineToolbar from './components/InlineToolbar';\r\nimport ImageComponent from './components/ImageComponent';\r\n\r\nclass RichEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editorState: EditorState.createEmpty(),\r\n      inlineToolbar: { show: false }\r\n    };\r\n\r\n    this.onChange = (editorState) => {\r\n      if (!editorState.getSelection().isCollapsed()) {\r\n        const selectionRange = getSelectionRange();\r\n        const selectionCoords = getSelectionCoords(selectionRange);\r\n        this.setState({\r\n          inlineToolbar: {\r\n            show: true,\r\n            position: {\r\n              top: selectionCoords.offsetTop,\r\n              left: selectionCoords.offsetLeft\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        this.setState({ inlineToolbar: { show: false } });\r\n      }\r\n\r\n      this.setState({ editorState });\r\n      setTimeout(this.updateSelection, 0);\r\n    }\r\n    this.focus = () => this.refs.editor.focus();\r\n    this.updateSelection = () => this._updateSelection();\r\n    this.handleKeyCommand = (command) => this._handleKeyCommand(command);\r\n    this.handleFileInput = (e) => this._handleFileInput(e);\r\n    this.handleUploadImage = () => this._handleUploadImage();\r\n    this.toggleBlockType = (type) => this._toggleBlockType(type);\r\n    this.toggleInlineStyle = (style) => this._toggleInlineStyle(style);\r\n    this.insertImage = (file) => this._insertImage(file);\r\n    this.blockRenderer = (block) => {\r\n      if (block.getType() === 'atomic') {\r\n        return {\r\n          component: ImageComponent\r\n        };\r\n      }\r\n      return null;\r\n    }\r\n    this.blockStyler = (block) => {\r\n      if (block.getType() === 'unstyled') {\r\n        return 'paragraph';\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  _updateSelection() {\r\n    const selectionRange = getSelectionRange();\r\n    let selectedBlock;\r\n    if (selectionRange) {\r\n      selectedBlock = getSelectedBlockElement(selectionRange);\r\n    }\r\n    this.setState({\r\n      selectedBlock,\r\n      selectionRange\r\n    });\r\n  }\r\n\r\n  _handleKeyCommand(command) {\r\n    const { editorState } = this.state;\r\n    const newState = RichUtils.handleKeyCommand(editorState, command);\r\n    if (newState) {\r\n      this.onChange(newState);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  _toggleBlockType(blockType) {\r\n    this.onChange(\r\n      RichUtils.toggleBlockType(\r\n        this.state.editorState,\r\n        blockType\r\n      )\r\n    );\r\n  }\r\n\r\n  _toggleInlineStyle(inlineStyle) {\r\n    this.onChange(\r\n      RichUtils.toggleInlineStyle(\r\n        this.state.editorState,\r\n        inlineStyle\r\n      )\r\n    );\r\n  }\r\n\r\n  _insertImage(file) {\r\n    const entityKey = Entity.create('atomic', 'IMMUTABLE', {src: URL.createObjectURL(file)});\r\n        this.onChange(AtomicBlockUtils.insertAtomicBlock(\r\n        this.state.editorState,\r\n        entityKey,\r\n        ' '\r\n      ));\r\n  }\r\n\r\n  _handleFileInput(e) {\r\n    const fileList = e.target.files;\r\n    const file = fileList[0];\r\n    this.insertImage(file);\r\n  }\r\n\r\n  _handleUploadImage() {\r\n    this.refs.fileInput.click();\r\n  }\r\n\r\n  render() {\r\n    const { editorState, selectedBlock, selectionRange } = this.state;\r\n    let sideToolbarOffsetTop = 0;\r\n\r\n    if (selectedBlock) {\r\n      const editor = document.getElementById('richEditor');\r\n      const editorBounds = editor.getBoundingClientRect();\r\n      const blockBounds = selectedBlock.getBoundingClientRect();\r\n\r\n      sideToolbarOffsetTop = (blockBounds.bottom - editorBounds.top)\r\n                           - 31; // height of side toolbar\r\n    }\r\n\r\n    return (\r\n      <div className=\"editor\" id=\"richEditor\" onClick={this.focus}>\r\n        {selectedBlock\r\n          ? <SideToolbar\r\n              editorState={editorState}\r\n              style={{ top: sideToolbarOffsetTop }}\r\n              onToggle={this.toggleBlockType}\r\n              onUploadImage={this.handleUploadImage}\r\n            />\r\n          : null\r\n        }\r\n        {this.state.inlineToolbar.show\r\n          ? <InlineToolbar\r\n              editorState={editorState}\r\n              onToggle={this.toggleInlineStyle}\r\n              position={this.state.inlineToolbar.position}\r\n            />\r\n          : null\r\n        }\r\n        <Editor\r\n          blockRendererFn={this.blockRenderer}\r\n          blockStyleFn={this.blockStyler}\r\n          editorState={editorState}\r\n          handleKeyCommand={this.handleKeyCommand}\r\n          onChange={this.onChange}\r\n          placeholder=\"Write something...\"\r\n          spellCheck={true}\r\n          readOnly={this.state.editingImage}\r\n          ref=\"editor\"\r\n        />\r\n        <input type=\"file\" ref=\"fileInput\" style={{display: 'none'}}\r\n          onChange={this.handleFileInput} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RichEditor;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 1\n ** module chunks = 0\n **/","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\nexport default ({ label, icon, active, onToggle, style }) => (\r\n  <li\r\n    className={\"toolbar-icon \" + classnames({ active })}\r\n    onMouseDown={(e) => {\r\n      e.preventDefault();\r\n      onToggle(style)\r\n    }}\r\n  >\r\n    {label ? label : <i className={icon}></i>}\r\n  </li>\r\n);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/ToolbarIcon.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"draft-js\"\n ** module id = 3\n ** module chunks = 0\n **/","import React from 'react';\r\nimport { Entity } from 'draft-js';\r\n\r\nexport default ({ block }) => {\r\n  const imgContent = Entity.get(block.getEntityAt(0)).data.src;\r\n  return <img src={imgContent} />;\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/ImageComponent.js\n **/","import React from 'react';\r\nimport ToolbarIcon from '../components/ToolbarIcon';\r\n\r\nconst INLINE_STYLES = [\r\n  { icon: 'a-bold', style: 'BOLD' },\r\n  { icon: 'a-italic', style: 'ITALIC' }\r\n];\r\n\r\nexport default ({ editorState, onToggle, position }) => {\r\n  const currentStyle = editorState.getCurrentInlineStyle();\r\n  return (\r\n    <div\r\n      className=\"toolbar\"\r\n      id=\"inlineToolbar\"\r\n      style={position}\r\n    >\r\n      <ul className=\"toolbar-icons\">\r\n        {INLINE_STYLES.map(type =>\r\n          <ToolbarIcon\r\n            key={type.label || type.icon}\r\n            active={currentStyle.has(type.style)}\r\n            label={type.label}\r\n            icon={type.icon}\r\n            onToggle={onToggle}\r\n            style={type.style}\r\n          />\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/InlineToolbar.js\n **/","import React, { Component, PropTypes } from 'react';\r\nimport ToolbarIcon from '../components/ToolbarIcon';\r\n\r\nconst BLOCK_TYPES = [\r\n  { label: 'H1', style: 'header-one' },\r\n  { label: 'H2', style: 'header-two' },\r\n  { icon: 'a-unordered-list', style: 'unordered-list-item' },\r\n  { icon: 'a-ordered-list', style: 'ordered-list-item' },\r\n  { icon: 'a-quote', style: 'blockquote' }\r\n];\r\n\r\nconst SideToolbarExtras = ({ editorState, onToggle }) => {\r\n  const selection = editorState.getSelection();\r\n  const blockType = editorState.getCurrentContent()\r\n                               .getBlockForKey(selection.getStartKey())\r\n                               .getType();\r\n  return (\r\n    <div className=\"toolbar side\">\r\n      <ul className=\"toolbar-icons\">\r\n        {BLOCK_TYPES.map(type =>\r\n          <ToolbarIcon\r\n            key={type.label || type.icon}\r\n            active={type.style === blockType}\r\n            label={type.label}\r\n            icon={type.icon}\r\n            onToggle={onToggle}\r\n            style={type.style}\r\n          />\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass SideToolbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isExpanded: false\r\n    };\r\n  }\r\n  render() {\r\n    const { isExpanded } = this.state;\r\n    const { editorState, onUploadImage, onToggle } = this.props;\r\n    return (\r\n      <div style={this.props.style} className=\"side-toolbar\">\r\n        <i className=\"a-photo\"\r\n           onMouseDown={e => e.preventDefault()}\r\n           onClick={onUploadImage}\r\n        >\r\n        </i>\r\n        <i className=\"a-menu\"\r\n           onMouseEnter={() => this.setState({ isExpanded: true })}\r\n           onMouseDown={(e) => e.preventDefault()}\r\n           onMouseLeave={() => this.setState({ isExpanded: false })}\r\n        >\r\n          {isExpanded\r\n           ? <SideToolbarExtras editorState={editorState} onToggle={onToggle} />\r\n           : null\r\n          }\r\n        </i>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SideToolbar;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/SideToolbar.js\n **/","export const getSelectionRange = () => {\r\n  const selection = window.getSelection();\r\n  if (selection.rangeCount === 0) return null;\r\n  return selection.getRangeAt(0);\r\n}\r\n\r\nexport const getSelectedBlockElement = (range) => {\r\n  let node = range.startContainer;\r\n  do {\r\n    const nodeIsDataBlock = node.getAttribute\r\n                            ? node.getAttribute('data-block')\r\n                            : null;\r\n    if (nodeIsDataBlock) return node;\r\n    node = node.parentNode;\r\n  } while (node !== null);\r\n  return null;\r\n}\r\n\r\nexport const getSelectionCoords = (selectionRange) => {\r\n  const editorBounds = document.getElementById('richEditor').getBoundingClientRect();\r\n  const rangeBounds = selectionRange.getBoundingClientRect();\r\n  const rangeWidth = rangeBounds.right - rangeBounds.left;\r\n  const rangeHeight = rangeBounds.bottom - rangeBounds.top;\r\n  const offsetLeft = (rangeBounds.left - editorBounds.left)\r\n            + (rangeWidth / 2)\r\n            /* 72px is width of inline toolbar */\r\n            - (72 / 2);\r\n  // 42px is height of inline toolbar (35px) + 5px center triangle and 2px for spacing\r\n  const offsetTop = rangeBounds.top - editorBounds.top - 42;\r\n  return { offsetLeft, offsetTop };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/selection.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"classnames\"\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}